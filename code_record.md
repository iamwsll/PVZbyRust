### 游戏引擎选择
bevy:
api变动太快,导致很多网上的样例/AI 都是过时的.
Piston：
据评价社区不活跃.
ggez:
API相当稳定(仓库两年没更新了),AI 跑一遍都能生成一个demo.

# prompt：
你是否觉得当前的代码太过凌乱？很难添加新的僵尸和植物（比如樱桃炸弹，路障僵尸之类的，但你不必实现它们，你只需要方便以后的添加）。请你重构代码，使用一些更加优雅的设计模式（如工厂模式等），使得很容易添加新僵尸和植物。另外，原有的解释性注释（指TODO，记录性的）尽量不要删。
现在游戏有一个重大bug：游戏中各个实体的位置都是写死的，从而导致窗口不能缩放、电脑修改屏幕缩放比例之后就会导致逻辑错误。同时也会使得鼠标的点击位置与画面不能正确对应。请你修改它们。注意，这个工程量很大，你可能需要遍历所有文件来确保修改正确请你分步骤修改。
